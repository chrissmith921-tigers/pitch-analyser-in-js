const express = require('express');
var bodyParser = require('body-parser')
const app = express();
const port = 3000;

// Sample pitch data - same data i used in the c# exercise
var pitchList = [
    ["CT",
    -9.65876259589309,
    -7.84717116937003
],
[
    "SL",
    7.67511617929202,
    4.91456225489808
],
[
    "CT",
    14.1628362169253,
    11.3371234958121
],
[
    "CB",
    -6.3041096553104,
    -4.42402908306966
],
[
    "FB",
    12.8375942290404,
    -12.8067908542727
],
[
    "FB",
    1.81855519229683,
    -4.72280767753567
],
[
    "SL",
    -4.59175541819152,
    0.518125141787099
],
[
    "SL",
    12.8671460009863,
    15.3444229473386
],
[
    "FB",
    -7.08387197453121,
    8.51501444446901
],
[
    "SL",
    7.91803989250396,
    -4.28011372257811
],
[
    "SL",
    6.71009716553788,
    8.24878708339159
],
[
    "CB",
    2.85081010281047,
    -12.2666254630478
],
[
    "CB",
    1.63082510778228,
    7.63898190591204
],
[
    "SL",
    7.18851871885287,
    3.10827387499069
],
[
    "SL",
    -1.14423499471671,
    -12.1046627933041
],
[
    "SL",
    12.5280378402913,
    -2.22456196717621
],
[
    "SL",
    -9.50702377931,
    -7.9005388607976
],
[
    "CB",
    -8.95107290743789,
    15.8551181103719
],
[
    "CT",
    14.2982889443057,
    18.3551192282682
],
[
    "FB",
    3.01348353304633,
    -1.35698024754635
],
[
    "CT",
    3.70468511031167,
    -7.39359860068478
],
[
    "SL",
    8.8350290543805,
    -15.9968986981739
],
[
    "CT",
    5.73698466268073,
    -4.97743623476374
],
[
    "SL",
    6.13270053692816,
    -15.0474488092745
],
[
    "SL",
    2.24964002508699,
    4.89090642999427
],
[
    "CT",
    -3.23714972068768,
    -4.23727686012664
],
[
    "CB",
    9.74957239517696,
    5.76913616564252
],
[
    "SL",
    6.46043303090971,
    -6.57382368810681
],
[
    "SL",
    0.1412273696113,
    -8.60470530147198
],
[
    "CT",
    3.80615142865256,
    -8.34151651102945
],
[
    "CT",
    9.05185913918171,
    -11.582168919373
],
[
    "CT",
    -3.92471910104986,
    -10.5731731657733
],
[
    "CT",
    12.905441939137,
    -2.12105688205981
],
[
    "CB",
    6.63505848849127,
    -14.8377973487321
],
[
    "FB",
    -0.247877256022358,
    -14.1255317069891
],
[
    "CT",
    8.5491377082944,
    -7.86084519995397
],
[
    "CB",
    11.0034892633892,
    -2.1273838387169
],
[
    "CT",
    -9.72795897158952,
    6.24498232012656
],
[
    "FB",
    -7.18192295283072,
    5.22497611840979
],
[
    "CT",
    8.13699363856256,
    6.0868276367281
],
[
    "CB",
    13.3580250281293,
    18.3994695835601
],
[
    "CB",
    -1.4574688881278,
    -12.7542811227358
],
[
    "SL",
    -0.399346681360077,
    -1.93193551829413
],
[
    "SL",
    6.96925823970099,
    -4.00709158943359
],
[
    "SL",
    15.1978089722122,
    -1.45710870004355
],
[
    "SL",
    6.06014849131513,
    -6.28693544135509
],
[
    "SL",
    -8.22300050451646,
    -13.4315634974886
],
[
    "CT",
    14.0692413726121,
    -0.726435237159777
],
[
    "CT",
    -4.12157483503102,
    17.0109921041995
],
[
    "CB",
    10.2066765449591,
    1.48616787006704
],
[
    "CT",
    -2.34779622562517,
    6.50918429119151
],
[
    "SL",
    4.95146675467283,
    7.60335618063304
],
[
    "SL",
    10.8429671787849,
    -3.66943486163771
],
[
    "SL",
    8.26732656018428,
    5.35468644252654
],
[
    "CB",
    -10.3193961370306,
    -4.95955072424418
],
[
    "FB",
    11.7082586128768,
    14.4289905510505
],
[
    "CT",
    8.86837220519445,
    17.9008518555406
],
[
    "FB",
    11.6159816124067,
    12.1877168211272
],
[
    "FB",
    2.30005381088706,
    1.68473764636546
],
[
    "CB",
    12.1626115505066,
    3.05211058788027
],
[
    "FB",
    -4.13915390009639,
    9.80909289513789
],
[
    "CB",
    1.77995898941284,
    -12.7440442221822
],
[
    "FB",
    15.3641214183397,
    -4.99938055778219
],
[
    "SL",
    -0.297556757102631,
    -13.7114864924866
],
[
    "CB",
    -3.67170710822711,
    -3.63185582036393
],
[
    "CT",
    -4.37333443164889,
    17.7317007457282
],
[
    "CB",
    12.3902189570199,
    -11.679059740157
],
[
    "FB",
    14.7953490374445,
    18.5067013357068
],
[
    "SL",
    8.54434236483114,
    -14.8724417431451
],
[
    "CB",
    8.52757065002837,
    -5.88417747897259
],
[
    "FB",
    -10.4004730667163,
    0.271564890182297
],
[
    "CT",
    7.45440911599854,
    9.02272247822491
],
[
    "CT",
    -1.054080471198,
    -4.9173442679831
],
[
    "CB",
    7.57539574125803,
    7.63321776565235
],
[
    "FB",
    0.371439285598857,
    -2.36044736416135
],
[
    "SL",
    6.61976331382688,
    -13.619018466516
],
[
    "CT",
    6.52868857249865,
    -11.402199401875
],
[
    "CT",
    -9.84118243450479,
    19.350446829723
],
[
    "SL",
    6.68711696359197,
    -8.47702751967189
],
[
    "CB",
    -5.21041728623537,
    19.720083008146
],
[
    "CB",
    9.69801090807267,
    13.8924605450896
],
[
    "CT",
    13.7174666487143,
    13.9367515490974
],
[
    "FB",
    6.9441892006969,
    13.6035553035244
],
[
    "FB",
    8.58839092752198,
    8.46360167478893
],
[
    "SL",
    -6.0588791325906,
    -3.04897860749822
],
[
    "FB",
    11.6291062524305,
    14.5622670764635
],
[
    "SL",
    4.8369100461754,
    -15.210289972783
],
[
    "SL",
    -8.0980689870324,
    8.97176201637762
],
[
    "CT",
    -1.74978728627849,
    6.53272356124918
],
[
    "CT",
    7.71055568689286,
    19.7742084773006
],
[
    "SL",
    3.86563370525606,
    -4.326766451838
],
[
    "SL",
    15.0884116690877,
    -12.7288468802613
],
[
    "CB",
    -4.2035907523997,
    1.25049873883517
],
[
    "SL",
    5.49996753779392,
    -10.7005012811189
],
[
    "FB",
    -3.40754516929714,
    -1.04265503799395
],
[
    "CB",
    -0.566239785710504,
    5.61500769710961
],
[
    "FB",
    15.1605810595104,
    11.2814852184107
],
[
    "CT",
    9.85630077643057,
    3.68840378520661
],
[
    "CB",
    -1.11735081871941,
    7.66688807715495
],
[
    "CT",
    -9.11977816241517,
    -10.4871755013783
],
[
    "SL",
    5.94245430744141,
    2.26727952222684
],
[
    "FB",
    15.2673162297642,
    -6.87669455979958
],
[
    "CT",
    -9.71612332915171,
    -5.6644766129166
],
[
    "SL",
    11.652617921904,
    -6.63684565592213
],
[
    "FB",
    5.45054771987844,
    -14.1281126925593
],
[
    "CB",
    -7.60903284516237,
    0.217625106144851
],
[
    "FB",
    -0.988314674669589,
    5.4353360190622
],
[
    "CB",
    0.431967943272253,
    18.4455494430485
],
[
    "CB",
    8.52555728488618,
    2.87634430068496
],
[
    "FB",
    7.54813612114581,
    -11.7149547280026
],
[
    "SL",
    6.09595916024256,
    6.85059895682165
],
[
    "SL",
    15.4462273682083,
    0.91881759679352
],
[
    "CT",
    -6.17197003581299,
    19.0722542545188
],
[
    "CB",
    -8.43103594445306,
    -12.3250022535102
],
[
    "FB",
    -8.92865870756735,
    -0.372379520452892
],
[
    "SL",
    2.88206906990625,
    6.83201156484761
],
[
    "FB",
    6.07119160930751,
    12.5447549462113
],
[
    "CB",
    7.50985335255931,
    19.985077983544
],
[
    "CT",
    4.94746634613242,
    -10.7274581535422
],
[
    "SL",
    10.337259449765,
    -12.2609052005602
],
[
    "FB",
    3.89602361866875,
    -5.55030583786374
],
[
    "SL",
    3.77093098260082,
    16.4872315313006
],
[
    "CB",
    -1.33430233060917,
    1.61231999476249
],
[
    "SL",
    3.56943127495355,
    9.62681164540512
],
[
    "CB",
    6.11448121773173,
    18.6449091188156
],
[
    "CB",
    10.7813869997784,
    0.696861259191145
],
[
    "SL",
    8.59208332840649,
    5.49847026759947
],
[
    "FB",
    -2.81127273593834,
    -13.5180403832939
],
[
    "CB",
    -0.83424703225149,
    16.3774459440569
],
[
    "CT",
    -1.30244542659106,
    5.20102284591765
],
[
    "CB",
    -5.41283557261351,
    3.80718859185089
],
[
    "SL",
    7.76729192531696,
    -9.02672532897976
],
[
    "CB",
    12.205209405181,
    -13.7017237894686
],
[
    "CB",
    10.5057382309897,
    6.22006605880159
],
[
    "SL",
    1.54730749487964,
    1.01926727968413
],
[
    "CT",
    14.9868604622535,
    9.48559691796344
],
[
    "CB",
    13.0987300857209,
    1.82216211824629
],
[
    "CB",
    -10.1927559328591,
    -3.08408965015385
],
[
    "CT",
    -3.46593735725016,
    -15.112789589162
],
[
    "CB",
    -0.550245677411858,
    -8.71902829413874
],
[
    "CB",
    4.14556718598851,
    9.89121308336429
],
[
    "CB",
    13.2747477943917,
    7.91537914830744
],
[
    "CB",
    -2.44263030240682,
    16.4619052760523
],
[
    "FB",
    1.36134468217151,
    16.8479498892596
],
[
    "CB",
    12.7997337608387,
    2.71616534330962
],
[
    "CT",
    -0.904177669860996,
    11.2164212437649
],
[
    "CT",
    -2.93116655300646,
    -15.0730309998561
],
[
    "FB",
    -5.40243018249908,
    -7.15047460432468
],
[
    "FB",
    -2.6241540653679,
    15.7239082670756
],
[
    "FB",
    12.8202269584113,
    -9.84821951811464
],
[
    "CB",
    -5.97068105715202,
    -8.06969704615614
],
[
    "SL",
    0.644799426520748,
    -6.8968899348369
],
[
    "CB",
    -9.35374080269136,
    9.65807023946738
],
[
    "CB",
    5.42210156153897,
    -2.66005662520877
],
[
    "FB",
    -7.0443110696197,
    -8.32521079992944
],
[
    "SL",
    14.8533705737525,
    9.73375459776338
],
[
    "CB",
    3.34512730169018,
    18.5289659307735
],
[
    "SL",
    -3.50413489706516,
    -13.0702680107583
],
[
    "CB",
    10.1600220116669,
    -4.34391172155167
],
[
    "FB",
    4.74312733319262,
    -8.36810611602822
],
[
    "SL",
    13.0992735966547,
    18.2046626315422
],
[
    "SL",
    -4.15863302814515,
    18.4752193380517
],
[
    "SL",
    13.184662573293,
    13.3262634245018
],
[
    "CB",
    3.98688526228428,
    -13.7809483768386
],
[
    "CB",
    -4.41402098771583,
    0.0492571716517958
],
[
    "SL",
    14.9570153808346,
    10.594752084762
],
[
    "FB",
    3.06586237974607,
    -8.96568420853328
],
[
    "CB",
    -7.42615324863834,
    16.6879168894912
],
[
    "SL",
    10.3381550622911,
    19.0551263493067
],
[
    "SL",
    2.99244612680497,
    -12.8021879198517
],
[
    "CT",
    -8.91188781014407,
    18.6410654192203
],
[
    "CB",
    -5.72331421629218,
    5.60516922867
],
[
    "CT",
    2.49184619026312,
    13.2595175936861
],
[
    "CB",
    -2.90142710569586,
    -14.3726788814327
],
[
    "FB",
    4.75272452630916,
    -12.7687741976255
],
[
    "FB",
    7.55912555356153,
    -10.059006999196
],
[
    "CT",
    -6.84345271984778,
    13.6177342156134
],
[
    "CT",
    13.6191620779098,
    10.952972340637
],
[
    "SL",
    10.7591384688567,
    -10.0601748808099
],
[
    "SL",
    15.1047489745999,
    -3.0951305164417
],
[
    "CB",
    -3.16240768061776,
    19.4448993568954
],
[
    "CB",
    -3.04182605876649,
    8.31042716009467
],
[
    "CT",
    -9.97290472807754,
    8.57387431230902
],
[
    "CB",
    -3.99663149974544,
    -14.0361439382238
],
[
    "FB",
    -4.10587974463086,
    -14.3937934005232
],
[
    "SL",
    -2.5476049550965,
    15.1555559419644
],
[
    "CB",
    13.3238068051307,
    15.5888609529068
],
[
    "FB",
    -9.6656988471757,
    14.0676646743283
],
[
    "CT",
    -1.46995851497142,
    0.125229968186137
],
[
    "CB",
    -6.25073917932849,
    -1.65713602529333
],
[
    "CT",
    10.1671707287163,
    6.81594318609556
],
[
    "FB",
    6.93618122934061,
    -10.8389389311746
],
[
    "CB",
    -1.03371814181805,
    -8.07117692055077
],
[
    "SL",
    10.7759782886608,
    10.5759676640088
],
[
    "SL",
    2.84736725033498,
    6.26519753433613
],
[
    "SL",
    3.96227288789854,
    -14.888570133453
],
[
    "CB",
    9.27945045417674,
    -5.16341829746263
],
[
    "CB",
    -1.94713123090864,
    7.45219336800445
],
[
    "SL",
    9.76586932889125,
    11.3016387710139
],
[
    "CB",
    -1.17566840141485,
    9.7413492249545
],
[
    "SL",
    -2.18758604588675,
    -15.6569940838093
],
[
    "SL",
    -4.74614620510863,
    -10.7915044032369
],
[
    "CB",
    13.5629854745539,
    13.7452667739047
],
[
    "CT",
    13.5775257192606,
    7.74589073647092
],
[
    "FB",
    -4.42745700688247,
    -3.87906138750708
],
[
    "FB",
    -4.65026096443864,
    1.27529469775504
],
[
    "CB",
    0.535626953120154,
    2.72212365676265
],
[
    "SL",
    12.0107224904272,
    6.54586229002534
],
[
    "CB",
    8.36683857020466,
    -3.43329923430068
],
[
    "CB",
    -3.03640784839124,
    -11.4948056820128
],
[
    "SL",
    14.0307106737385,
    16.2858272141201
],
[
    "CT",
    9.45070553802769,
    14.1747390286173
],
[
    "CT",
    10.7989488431568,
    18.1821511630991
],
[
    "FB",
    1.15432240280586,
    0.94183462692806
],
[
    "SL",
    14.730103916723,
    2.81287661188045
],
[
    "SL",
    -1.72854261792879,
    0.282817983506749
],
[
    "FB",
    10.3520480953127,
    -1.35678261814093
],
[
    "FB",
    -9.92160462858894,
    -3.71948349121864
],
[
    "CT",
    2.26255734777928,
    17.3818897139414
],
[
    "CB",
    -4.52613175255257,
    12.3972042594412
],
[
    "CT",
    10.8482343289035,
    18.1727922890065
],
[
    "SL",
    -3.78531019052274,
    -8.35792733470296
],
[
    "CT",
    -7.26408336734493,
    6.51037629444198
],
[
    "CT",
    -7.53258243901792,
    6.20336959960066
],
[
    "CT",
    11.8803220496769,
    -13.9926410174133
],
[
    "CB",
    -0.223550913369969,
    -0.991234933525384
],
[
    "FB",
    3.11639548213168,
    10.1104548282096
],
[
    "SL",
    1.71356617134863,
    17.6255439426597
],
[
    "SL",
    5.92748332500596,
    -10.4225048161086
],
[
    "SL",
    9.36921375678292,
    -2.96938723551422
],
[
    "FB",
    2.9610191912361,
    -6.61178888082214
],
[
    "CT",
    -8.30785602171405,
    -11.5904648992693
],
[
    "CT",
    -8.67968122343448,
    3.94404735626704
],
[
    "FB",
    1.4943576497507,
    12.4080234335635
],
[
    "CT",
    14.5193306952615,
    -10.1529244181833
],
[
    "FB",
    1.21076116801832,
    2.6613245455312
],
[
    "FB",
    2.16332860105516,
    19.1692849292045
],
[
    "CB",
    4.13915940754743,
    -1.31442712858149
],
[
    "CT",
    5.9837338546141,
    -6.81533297669098
],
[
    "FB",
    -8.22319615704429,
    -15.989917543378
],
[
    "CT",
    -8.87046346935671,
    -2.44767033217021
],
[
    "SL",
    15.3269089908648,
    -2.83274086387086
],
[
    "SL",
    -0.639205567051675,
    -3.85864844146936
],
[
    "CB",
    -6.00453281153024,
    -4.234937546664
],
[
    "FB",
    13.1050393303291,
    13.00948545092
],
[
    "CT",
    -2.11328277589232,
    -0.788576947080525
],
[
    "SL",
    13.160372597107,
    7.49634101447024
],
[
    "SL",
    4.58506331530225,
    4.04322114787956
],
[
    "SL",
    -6.95120509378848,
    -15.4988321827401
],
[
    "CT",
    14.0701183385672,
    1.17096358760595
],
[
    "SL",
    5.30818851297306,
    19.7521346659133
],
[
    "FB",
    6.12338305709885,
    0.0144679316336109
],
[
    "CT",
    -0.732324790963084,
    1.56865895190809
],
[
    "CT",
    -9.52169475325466,
    -10.5215208653427
],
[
    "CT",
    4.01198871746442,
    14.2288688809517
],
[
    "FB",
    13.8835583463719,
    9.53474334466845
],
[
    "CB",
    12.6023763942353,
    -11.9118221178778
],
[
    "SL",
    -1.52356924246258,
    3.30807971055928
],
[
    "CT",
    -3.42667435987569,
    18.7386105607126
],
[
    "SL",
    -7.32468036682431,
    -1.47962013453079
],
[
    "FB",
    1.92503559169648,
    3.63271548382811
],
[
    "SL",
    12.4149431819364,
    4.71730430457679
],
[
    "CT",
    -4.02190020071287,
    -11.9035359072376
],
[
    "CB",
    7.99285655944655,
    -11.1349281889014
],
[
    "SL",
    -5.68398294016925,
    -1.5691441642016
],
[
    "CB",
    13.017662065019,
    -8.17305184276796
],
[
    "CT",
    15.3450983001211,
    -15.939144466968
],
[
    "FB",
    5.82616616529884,
    7.47595393347353
],
[
    "CT",
    11.2167691375496,
    -12.4650982933005
],
[
    "SL",
    -9.3798584541344,
    13.6454376385461
],
[
    "SL",
    -8.10817988065596,
    1.3939576916151
],
[
    "CT",
    14.8485784902269,
    6.15828250002496
],
[
    "FB",
    7.59212174325305,
    -1.18662734735706
],
[
    "CT",
    -4.92367491934095,
    -3.82478308875105
],
[
    "CB",
    -1.46612117084837,
    -3.66626290824142
],
[
    "FB",
    13.2847616098534,
    2.17909912513667
],
[
    "FB",
    -2.08304556067493,
    -3.30849402590814
],
[
    "SL",
    1.80665674252614,
    5.75713073892673
],
[
    "CB",
    13.2558844177373,
    10.3803971672639
],
[
    "CB",
    13.8715316943329,
    -1.96686157033095
],
[
    "CB",
    -2.59902244699709,
    -4.15353001054721
],
[
    "FB",
    -6.55946624144455,
    -1.11340469156903
],
[
    "SL",
    -8.36911874973294,
    9.95421732884182
],
[
    "FB",
    7.63124752030895,
    2.95705002030741
],
[
    "FB",
    12.5674303361894,
    -15.615089373268
],
[
    "CT",
    12.2664846166481,
    -13.6098748398936
],
[
    "CB",
    2.80928353012847,
    -8.14673588963903
],
[
    "CT",
    7.96084203783646,
    7.49548562105708
],
[
    "CB",
    12.4264319190725,
    11.8011180751855
],
[
    "CT",
    4.43809572486169,
    -14.8884008061032
],
[
    "SL",
    4.43585744706796,
    3.59349178633998
],
[
    "SL",
    15.3284700995511,
    -11.2884725752292
],
[
    "SL",
    -7.11007734910259,
    -14.6864430289498
],
[
    "CT",
    7.64698972733265,
    7.72914502548414
],
[
    "CB",
    8.83070658049285,
    -7.78632534223282
],
[
    "CT",
    -6.02058975100307,
    -15.8514187259979
],
[
    "FB",
    2.55416234426726,
    16.7480948767692
],
[
    "CT",
    -9.17302962384234,
    5.57139098558399
],
[
    "CT",
    -2.87049125005515,
    -13.1207164027206
],
[
    "SL",
    7.34685592616379,
    -3.55956328589001
],
[
    "CT",
    13.8713532233816,
    19.6527013979401
],
[
    "FB",
    -0.0341712032085386,
    -7.9642460315573
],
[
    "CB",
    -8.36634972906176,
    -2.7307237012298
],
[
    "CB",
    -2.23252405687498,
    -8.10207510074056
],
[
    "FB",
    7.27810203885312,
    -6.31651779196952
],
[
    "FB",
    12.3621991007114,
    14.5026165135372
],
[
    "CT",
    -2.84677180476512,
    -14.8572513905662
],
[
    "CB",
    -7.47749272495594,
    -10.5525281115941
],
[
    "CT",
    -10.1188838214949,
    12.4901449439977
],
[
    "FB",
    1.73172549166187,
    -14.9572709224062
],
[
    "CB",
    14.1100464932001,
    16.4891744390669
],
[
    "SL",
    -5.64740592993925,
    8.11591729901068
],
[
    "FB",
    9.89665290356815,
    9.25831066825819
],
[
    "CB",
    6.85929912946603,
    11.7965017059722
],
[
    "SL",
    4.61659946758371,
    0.738850275930066
],
[
    "CT",
    5.76599822297913,
    15.5328327548871
],
[
    "SL",
    7.31958300052345,
    10.9763162436889
],
[
    "CB",
    13.1614229797268,
    -12.0998325731843
],
[
    "CB",
    12.5479713826478,
    -5.01649143889573
],
[
    "CB",
    13.4992906771369,
    9.05205591053835
],
[
    "FB",
    -4.87066216184999,
    -1.42687812412321
],
[
    "CB",
    -0.319302701226603,
    9.48916811240688
],
[
    "CB",
    2.74634722958259,
    0.751916167765103
],
[
    "CB",
    13.0309907162021,
    18.3811155428894
],
[
    "FB",
    2.45001713940065,
    -11.3899561985043
],
[
    "SL",
    -8.5877934018021,
    17.5767389654527
],
[
    "SL",
    10.8492776346927,
    7.84360390502016
],
[
    "SL",
    3.66388127072397,
    -7.5372862121388
],
[
    "FB",
    -7.06461787861103,
    -11.8503003690065
],
[
    "CT",
    -2.89960427327515,
    15.2820001408661
],
[
    "CB",
    5.09043583431519,
    -9.04257423966703
],
[
    "FB",
    -0.313230054913399,
    -7.0304154335791
],
[
    "CB",
    -9.59671536799854,
    -9.93592018458155
],
[
    "SL",
    -4.51459444977067,
    -3.79186763847893
],
[
    "FB",
    -7.04039163869211,
    5.63399308985972
],
[
    "FB",
    5.76243361409281,
    4.01574211944672
],
[
    "CT",
    9.838274930537,
    7.41253773054951
],
[
    "SL",
    5.75950973041184,
    4.11550914960128
],
[
    "FB",
    -10.3221610011639,
    -13.0017734309432
],
[
    "FB",
    1.02391273638526,
    12.9498120014603
],
[
    "FB",
    -6.59478572763453,
    18.696779746549
],
[
    "CT",
    10.0174541070303,
    -0.505244080650495
],
[
    "CB",
    -2.17224274089905,
    -1.61816538150558
],
[
    "CT",
    3.7344383661779,
    8.31493315855713
],
[
    "FB",
    -9.21607750194158,
    -10.7059941741558
],
[
    "CT",
    7.58557095667452,
    1.93816701164402
],
[
    "CT",
    -7.12123219410334,
    -5.92957349745048
],
[
    "CB",
    -6.97540498060322,
    5.84141862099399
],
[
    "CT",
    9.40189747428597,
    12.8324496941022
],
[
    "SL",
    -9.08982264833151,
    3.41704672154673
],
[
    "FB",
    -5.49376260578908,
    16.0505536170007
],
[
    "CB",
    4.86640734252756,
    3.22617612698739
],
[
    "SL",
    -7.23534385894077,
    -6.50981751653892
],
[
    "FB",
    6.58943204336844,
    16.0511171369523
],
[
    "SL",
    0.917246397816285,
    -6.04573019054624
],
[
    "CT",
    -6.73161468453656,
    10.4108738844684
],
[
    "CB",
    11.9451125917386,
    -5.52909169114998
],
[
    "CB",
    -7.88228685391916,
    7.40316779652626
],
[
    "CB",
    6.87336595225625,
    -10.5710126349107
],
[
    "FB",
    9.93147387895172,
    8.57884712181978
],
[
    "CB",
    14.7737687238894,
    19.4777029609843
],
[
    "FB",
    -4.98374995219234,
    4.78304126014801
],
[
    "CT",
    9.87042418195449,
    17.2197574341663
],
[
    "CB",
    -8.53589473384432,
    17.5411733239438
],
[
    "SL",
    15.2052332080899,
    13.3592080429952
],
[
    "CT",
    15.401963244427,
    -3.68701440933168
],
[
    "CB",
    10.8656455110164,
    13.244984266846
],
[
    "CT",
    10.4885885803016,
    -11.7615118878577
],
[
    "FB",
    -3.09241341364475,
    -12.0473853164079
],
[
    "CB",
    7.77061846659111,
    -3.96858194751104
],
[
    "SL",
    -0.636005864159547,
    -3.96032645019705
],
[
    "SL",
    4.6517664534648,
    9.26789511475948
],
[
    "CT",
    -8.32036169948668,
    7.48627198574433
],
[
    "CB",
    -2.42802774849245,
    14.6042133861486
],
[
    "SL",
    -6.06688422038809,
    18.2821551855946
],
[
    "CB",
    5.06140272144315,
    9.22898633399086
],
[
    "FB",
    7.49129651326939,
    -9.11746058835772
],
[
    "FB",
    4.97185241955833,
    7.25019434171712
],
[
    "CT",
    -3.22087655617967,
    1.1205441639156
],
[
    "SL",
    -2.11249823459521,
    -0.612893595060179
],
[
    "CB",
    13.0275715112973,
    -0.850171749911855
],
[
    "SL",
    -3.70974752827914,
    8.28923241854565
],
[
    "FB",
    4.96505191423232,
    -3.96594854569403
],
[
    "SL",
    -8.48495592455414,
    -1.94580130648243
],
[
    "FB",
    1.60837595341177,
    4.93829803854179
],
[
    "FB",
    -9.67403385466572,
    7.5034074357424
],
[
    "CB",
    12.6862606969538,
    0.687841721622956
],
[
    "SL",
    15.457026926664,
    -3.73763133768153
],
[
    "CT",
    -2.08099118639668,
    -9.80659232061473
],
[
    "FB",
    -7.40984309189151,
    7.71447279413617
],
[
    "FB",
    14.3728247838728,
    -4.61287373397349
],
[
    "CT",
    6.74687184919963,
    3.61388271795429
],
[
    "FB",
    -2.72411534032636,
    4.12916215897437
],
[
    "CB",
    -3.66939736450284,
    19.5862791470417
],
[
    "SL",
    10.0664856105173,
    -6.34380996570032
],
[
    "CB",
    -6.45412926978227,
    0.468317225487773
],
[
    "CT",
    -5.54017971766065,
    -2.60870722344327
],
[
    "SL",
    -8.13933757466199,
    -15.7729633950276
],
[
    "CB",
    2.00808418697073,
    -3.00558287346782
],
[
    "SL",
    11.6403378101184,
    -2.43213492535829
],
[
    "SL",
    -10.2705793483436,
    -5.86097156336515
],
[
    "FB",
    -0.183120747561158,
    -10.0475386321746
],
[
    "CT",
    -4.25288315462857,
    -2.27843227577155
],
[
    "CT",
    15.3686039735761,
    4.88243251151425
],
[
    "SL",
    -4.65884258018086,
    1.30962298848611
],
[
    "CT",
    3.49384568223807,
    1.48257855044611
],
[
    "CT",
    12.8919468198854,
    -2.52015367826828
],
[
    "FB",
    -1.15801241675263,
    -3.62026656283586
],
[
    "CB",
    -4.48164746297358,
    16.8302897412135
],
[
    "SL",
    12.9774029272516,
    -7.66535493335301
],
[
    "FB",
    -4.91335528188701,
    -1.77435055969594
],
[
    "CB",
    13.5115170352371,
    11.5644824310003
],
[
    "CT",
    9.93087165052811,
    8.67368784318897
],
[
    "FB",
    -5.82668478209885,
    5.94474517567568
],
[
    "FB",
    3.04091153066984,
    18.4115954348858
],
[
    "CB",
    -3.66506169204886,
    -14.9117439360688
],
[
    "FB",
    -10.2600661032971,
    3.90930567583849
],
[
    "CB",
    -3.20593621785751,
    12.8773404231578
],
[
    "FB",
    0.0671036411720589,
    -11.2076348336799
],
[
    "SL",
    -6.52473483205688,
    2.22932043509761
],
[
    "CT",
    12.6526738203412,
    14.2215599016186
],
[
    "SL",
    -1.40758327446311,
    2.93539695696675
],
[
    "CB",
    -8.15402337573128,
    -11.5765302014962
],
[
    "CT",
    12.0197948158517,
    13.4806265014043
],
[
    "FB",
    -6.15133273920976,
    18.9483504188725
],
[
    "CB",
    7.3788843960488,
    17.7252324026207
],
[
    "CT",
    0.294113753389684,
    -3.95988159973491
],
[
    "FB",
    7.35395233007005,
    15.7111016343314
],
[
    "CT",
    -6.70713918920904,
    -3.98721790240014
],
[
    "CT",
    14.5194683685134,
    -9.87657898204725
],
[
    "CT",
    0.81597956090266,
    7.60171183440809
],
[
    "SL",
    4.05377561937487,
    19.8643092835944
],
[
    "CT",
    13.7430697557904,
    -5.95078859502303
],
[
    "CT",
    -8.87351773381768,
    -7.11004408354465
],
[
    "CT",
    8.9487870291474,
    1.29833912015607
],
[
    "FB",
    3.497411067571,
    8.99016711621391
],
[
    "SL",
    -3.82229761292623,
    -6.77707916970607
],
[
    "CB",
    14.2646082063045,
    5.36821406163387
],
[
    "CB",
    -2.22143470516554,
    -1.36017116477094
],
[
    "SL",
    -4.09046615142834,
    12.3663674904021
],
[
    "CB",
    2.93955934366261,
    17.9488564038181
],
[
    "SL",
    14.5089118021757,
    -7.22093182756581
],
[
    "FB",
    -9.43291689368948,
    -14.6487312363659
],
[
    "CT",
    2.09902266803729,
    -12.9491292434143
],
[
    "SL",
    15.3489754347589,
    2.26506519042051
],
[
    "CB",
    -6.81448635713498,
    18.4928746858237
],
[
    "FB",
    8.44338591070544,
    19.971114419964
],
[
    "FB",
    10.416363446125,
    18.8954204803486
],
[
    "CB",
    -8.55033434622487,
    -12.3643846068674
],
[
    "CT",
    -5.44799964082038,
    11.05436223471
],
[
    "SL",
    12.5264460580237,
    16.2325873949295
],
[
    "SL",
    -0.429948825329799,
    -14.2027220462366
],
[
    "CB",
    11.6691799048309,
    2.11263133193315
],
[
    "CT",
    0.804551965777344,
    -8.7825663298912
],
[
    "CB",
    15.1161915416777,
    13.408642843441
],
[
    "CB",
    11.8806563069297,
    -6.70052003092068
],
[
    "CT",
    -8.2735351515418,
    13.6473507212061
],
[
    "CT",
    -1.4299789710911,
    9.9408554121671
],
[
    "FB",
    -9.07580961893263,
    5.00254295073626
],
[
    "CT",
    1.04921285157982,
    7.5415437426674
],
[
    "CB",
    -8.28527051659023,
    4.56737021571374
],
[
    "CT",
    11.5517428812164,
    -1.94180670794562
],
[
    "CT",
    7.80594675072513,
    -10.9438448080371
],
[
    "SL",
    12.0285933147832,
    13.1983033524356
],
[
    "SL",
    4.01786317240069,
    11.4221113117364
],
[
    "CT",
    1.07138390404981,
    -0.240423004914781
],
[
    "SL",
    -7.14429799154741,
    8.90619884987391
],
[
    "CB",
    15.2738138165447,
    7.16966764665976
],
[
    "FB",
    -2.59012639977214,
    -6.72375425607021
],
[
    "CT",
    -4.56299524808077,
    16.1960658951295
],
[
    "CT",
    -8.10229972609786,
    16.717566699946
],
[
    "CB",
    12.3537011312143,
    14.9338284791228
],
[
    "CT",
    -9.935029286208,
    0.694394827521165
],
[
    "CB",
    10.4884126781266,
    8.18598189761229
],
[
    "CB",
    -6.9416826788126,
    -5.32038715905015
],
[
    "CB",
    10.9288305084866,
    -12.9898538412193
],
[
    "CT",
    3.15146020134584,
    8.70425453246436
],
[
    "FB",
    7.62641502809835,
    -10.7065384972879
],
[
    "CT",
    5.18913987856789,
    8.05394707155774
],
[
    "CB",
    9.62132401115512,
    7.90094622096187
],
[
    "FB",
    0.587181326422098,
    12.1860273784112
],
[
    "CT",
    -1.97315067804488,
    9.79840178886895
],
[
    "CB",
    12.9622404216558,
    19.9104441407449
],
[
    "CB",
    -4.2328578199157,
    16.4543040824773
],
[
    "FB",
    7.16381810686035,
    19.35871167826
],
[
    "CB",
    -1.17912462321237,
    -14.7156528990935
],
[
    "FB",
    -6.25692951061194,
    -4.02752021565474
],
[
    "CT",
    8.05894923935901,
    13.4294147383931
],
[
    "CB",
    -9.44613303365747,
    -0.983644361537543
],
[
    "CB",
    -8.38706252430449,
    -2.33382952020011
],
[
    "CT",
    -8.03032529132047,
    6.58387796094734
],
[
    "CB",
    13.2882980794202,
    6.61503797617894
],
[
    "FB",
    2.79991169160348,
    12.9703582905279
],
[
    "CT",
    -3.52425518700726,
    5.72128216573652
],
[
    "FB",
    -4.61308132004849,
    -8.88342532400805
],
[
    "CT",
    8.60525727239344,
    -7.68606575767174
],
[
    "SL",
    -9.0629284734928,
    5.5165539050281
],
[
    "SL",
    -7.79066570496418,
    -0.335674944198985
],
[
    "CB",
    -7.07695221321018,
    3.32086403283541
],
[
    "FB",
    1.14079483611826,
    7.29204829801742
],
[
    "CT",
    -0.953390537515553,
    -0.623755189039649
],
[
    "FB",
    -10.1383133496289,
    -11.0106021996167
],
[
    "SL",
    9.0643123865973,
    -8.9389971852758
],
[
    "CT",
    6.87175786054726,
    2.96075302884298
],
[
    "CB",
    5.93808494598847,
    10.333802118449
],
[
    "CB",
    1.81819924792138,
    -14.2639204880017
],
[
    "CT",
    -0.636621941065517,
    10.7529242039335
],
[
    "SL",
    3.26592695627561,
    -5.92517263093685
],
[
    "CB",
    -6.12735950910898,
    3.72192401976535
],
[
    "FB",
    12.4374920229978,
    -0.652883713457825
],
[
    "CT",
    -6.45862865481607,
    8.13720023945726
],
[
    "CT",
    14.8770609922363,
    -13.4929457523946
],
[
    "CB",
    10.7343340589421,
    6.3551638955486
],
[
    "FB",
    0.743490646007267,
    -13.9254046310398
],
[
    "CB",
    0.0897040781190359,
    11.8711865607104
],
[
    "FB",
    11.835108798302,
    17.0734912693214
],
[
    "CT",
    -2.83401245409407,
    -15.4367274119781
],
[
    "SL",
    10.3874383360121,
    1.91936814806261
],
[
    "CT",
    6.75480474099531,
    -4.03985202386827
],
[
    "SL",
    -0.620267676121294,
    7.43185381611083
],
[
    "FB",
    7.72743023109655,
    8.12694515255667
],
[
    "CT",
    6.51252032604738,
    -5.51473648275252
],
[
    "CB",
    -2.29418691037165,
    9.58002611254315
],
[
    "FB",
    3.61094396866577,
    -9.79874731823931
],
[
    "CB",
    -9.15271973800246,
    0.539996515418288
],
[
    "SL",
    13.3881999330385,
    -12.0861794837856
],
[
    "SL",
    13.9729619966564,
    15.3656289284418
],
[
    "CT",
    4.09402410934614,
    5.01007061509512
],
[
    "CT",
    -0.837160435435869,
    0.866470932393028
],
[
    "CB",
    -4.65186204710523,
    3.45961035163603
],
[
    "FB",
    4.48717711836818,
    -9.86897775176309
],
[
    "SL",
    -7.21619614482978,
    14.1282919031239
],
[
    "CT",
    3.88544826898079,
    -11.3767731293223
],
[
    "CT",
    -0.0521030514739493,
    2.26085891350143
],
[
    "SL",
    10.4554813406023,
    11.0626647381128
],
[
    "FB",
    -0.457252391994903,
    9.41727415425112
],
[
    "SL",
    14.4699215623935,
    -13.4581148212602
],
[
    "SL",
    0.47555605959869,
    4.00607114120981
],
[
    "CT",
    -0.43770266046802,
    -5.29061434905508
],
[
    "FB",
    9.07112718350812,
    7.49577160090836
],
[
    "CT",
    -2.70968371626876,
    5.12541003932991
],
[
    "CB",
    -1.56454106398162,
    4.39743802362066
],
[
    "FB",
    13.8243616467471,
    10.7873554112058
],
[
    "SL",
    13.4617876245327,
    -12.7844469799505
],
[
    "FB",
    -9.67220247498665,
    0.788861430806783
],
[
    "CB",
    14.2925355747123,
    -5.09732344067607
],
[
    "CT",
    12.1822955113585,
    4.63803448807987
],
[
    "CT",
    -0.969946059702664,
    6.65412025832905
],
[
    "CB",
    4.43364581463032,
    12.9908406328064
],
[
    "CB",
    -4.27192882556102,
    14.0967474893273
],
[
    "FB",
    2.87211477684616,
    11.9369816646114
],
[
    "SL",
    -3.85621152697935,
    -12.8475928496098
],
[
    "SL",
    -0.201454132827958,
    -15.8468882088606
],
[
    "FB",
    -0.905734181737017,
    15.7358187020431
],
[
    "SL",
    -1.67068644143473,
    3.52527404127211
],
[
    "SL",
    7.34656512591859,
    -13.980006679541
],
[
    "FB",
    -3.76375909817828,
    2.9676063591139
],
[
    "CB",
    2.50241601910061,
    19.3248393894318
],
[
    "CT",
    -6.90711192519526,
    2.43953157419564
],
[
    "CB",
    10.9296024290805,
    -5.6511794037199
],
[
    "FB",
    7.02782058741167,
    -11.0277845787689
],
[
    "FB",
    -2.27902681810088,
    -2.25682356598533
],
[
    "FB",
    0.321924339679134,
    13.3652210589273
],
[
    "CB",
    -9.65498356578991,
    10.162204085087
],
[
    "SL",
    15.4491867191945,
    -14.9148837754703
],
[
    "FB",
    13.6121018394388,
    -6.23212527082594
],
[
    "CT",
    11.9439775707213,
    -5.28444565855538
],
[
    "CB",
    7.1707345913003,
    13.4577588929087
],
[
    "CB",
    -3.905307060601,
    11.8094729236621
],
[
    "CB",
    5.41821375372093,
    5.4047262913075
],
[
    "CT",
    2.86474841491403,
    7.44896656470502
],
[
    "FB",
    12.7630033918134,
    8.03167921380331
],
[
    "CT",
    1.04092281780734,
    17.8690894376599
],
[
    "FB",
    -6.36269816007907,
    4.6316697521649
],
[
    "FB",
    -1.035751705228,
    19.064932946745
],
[
    "CB",
    -0.459362209729738,
    -0.0428105387105902
],
[
    "CB",
    6.16074597844147,
    9.00013341791577
],
[
    "FB",
    4.57214754669744,
    0.902312881581867
],
[
    "SL",
    -7.87659726661052,
    -9.39063144606256
],
[
    "CB",
    -0.157583857060132,
    8.38124887414674
],
[
    "CB",
    12.1014193577223,
    -6.04753056698853
],
[
    "CB",
    15.2571661153404,
    0.479533936059564
],
[
    "CT",
    10.5637330172258,
    -5.89601382498501
],
[
    "FB",
    12.2945453192291,
    18.3592782057355
],
[
    "FB",
    14.7817338864951,
    -15.6495933427961
],
[
    "SL",
    -3.76201340433476,
    15.6225580193698
],
[
    "CT",
    -3.00968536573591,
    8.73762493825123
],
[
    "SL",
    4.54555270155559,
    2.31266693729072
],
[
    "FB",
    -1.33826759437756,
    1.93419656811361
],
[
    "FB",
    2.03938629908964,
    -11.1267103784702
],
[
    "CT",
    -3.18637847371735,
    -0.156656773610415
],
[
    "CB",
    -1.746219593652,
    -4.33829617124131
],
[
    "CB",
    -1.49585721904214,
    -10.3124464810497
],
[
    "SL",
    10.0423348865261,
    -7.8175831826522
],
[
    "SL",
    2.25206088089054,
    13.5460521852711
],
[
    "CB",
    -8.50192393294653,
    17.0174668547374
],
[
    "CT",
    8.35103947748178,
    -3.61229086604414
],
[
    "CB",
    4.04858132057118,
    -9.50343965501835
],
[
    "CT",
    10.1112392023121,
    19.7138525895709
]
];

app.use(bodyParser.urlencoded({
    extended: true
}));


app.get('/api/pitches', (req, res) => {
    res.json(pitchList);
});

app.get('/api/pitch-counts', (req, res) => {
    const counts = countPitchesByType();
    res.json(counts);
});

app.get('/api/strike-counts', (req, res) => {
    const strikes = countStrikesByPitchTypes();
    res.json(strikes);
});

app.get('/api/strike-list-by-pitchtype', (req, res) => {
    const { pitchType } = req.query;
    const strikes = filterStrikesByPitchType(pitchType);
    res.json(strikes);
});

app.get('/api/percentage-strikes-by-pitchtype', (req, res) => {
    const { pitchType } = req.query;
    const strikes = percentageStrikesByPitchtype(pitchType);
    res.json(strikes);
});

app.post('/api/percentage-strikes-by-pitchtype/:pitchType', (req, res) => {
    const pitchType = req.params.pitchType;
    pitchList = transformData(req.body);
    const strikes = percentageStrikesByPitchtype(pitchType);
    res.json(strikes);
});

const transformData = (requestBody) => {
    const transformedData = Object.values(requestBody).map(item => {
        // Assuming each item is an array with [string, double, double]
        return [item[0], parseFloat(item[1]), parseFloat(item[2])];
    });
    return transformedData;
};

// Function to count pitches by pitchType
const countPitchesByType = () => {
    let counts = {};
    pitchList.forEach(pitch => {
        const { pitchType } = pitch;
        counts[pitchType] = (counts[pitchType] || 0) + 1;
    });
    return counts;
};

//Function to count strikes by pitchType
const countStrikesByPitchTypes = () => {
    let filteredPitches = pitchList.filter(pitch => {
        return (!-8.5 || pitch[1] > -8.5) &&
            (!8.5 || pitch[1] < 8.5) &&
            (!-12 || pitch[2] > -12) &&
            (!12 || pitch[2] < 12);
    });

    return filteredPitches;
};

const filterStrikesByPitchType = (_pitchType) => {
    let filteredPitches = Object.values(pitchList).filter(pitch => {
        return (!-8.5 || pitch[1] > -8.5) &&
            (!8.5 || pitch[1] < 8.5) &&
            (!-12 || pitch[2] > -12) &&
            (!12 || pitch[2] < 12) &&
            (pitch[0] === _pitchType);
    });
    return filteredPitches;
};

const percentageStrikesByPitchtype = (_pitchType) => {

    let filteredPitches = Object.values(pitchList).filter(pitch => {
        return (pitch[0] === _pitchType);
    }).length;

    let filteredStrikes = filterStrikesByPitchType(_pitchType, pitchList).length;
    const percentage = (filteredPitches > 0) ? (filteredStrikes / filteredPitches) * 100 : 0;

    return "Percentage strikes for type " + _pitchType + " is " + percentage.toFixed(4) + "%";
};




// Start the server
app.listen(port, () => {
    console.log(`Server is running on http://localhost:${port}`);
});
